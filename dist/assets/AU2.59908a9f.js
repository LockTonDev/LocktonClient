var K=Object.defineProperty;var q=(c,n,o)=>n in c?K(c,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[n]=o;var d=(c,n,o)=>(q(c,typeof n!="symbol"?n+"":n,o),o);import{d as X,u as G,s as H,r,o as J,c as v,N as h,f as t,w as a,V as k,ar as E,q as f,m as e,R as Q,k as T,l as U,p as g,i as C,g as $,h as F,t as B,z as A,j as O,au as Y,av as Z,F as ee,n as ue,e as R,A as N,aB as le,aj as se}from"./index.2b8b6c8b.js";import{M as te}from"./MessageBoxDTO.8dcb50e9.js";import"./VALID_CONFIG.df82436b.js";import{P as ae}from"./ParamsDTO.c9510422.js";import{C as ne}from"./CommonCode.9b87da33.js";import{_ as oe}from"./AdminBaseBreadcrumb.vue_vue_type_script_setup_true_lang.ff3d6de8.js";import{_ as ie}from"./VSelectWithValidation.a4b15a63.js";import{_ as x}from"./VTextFieldWithValidation.7522b543.js";import{_ as de}from"./MessageBox.7936a8d0.js";import{a as S}from"./A_ADMIN.fd7a6a09.js";class z{constructor(n={}){d(this,"mode");d(this,"business_cd");d(this,"business_cd_nm");d(this,"reg_no");d(this,"nm");d(this,"birth");d(this,"created_ip");d(this,"created_id");d(this,"updated_ip");d(this,"updated_id");this.mode=n.mode||"",this.business_cd=n.business_cd||"",this.business_cd_nm=n.business_cd_nm||"",this.reg_no=n.reg_no||"",this.nm=n.nm||"",this.birth=n.birth||"",this.created_ip=n.created_ip||"",this.created_id=n.created_id||"",this.updated_ip=n.updated_ip||"",this.updated_id=n.updated_id||""}}const re={class:"v-search-box v-box"},Ce=e("span",null,"\uC804\uBB38\uC778 \uC720\uD615",-1),ce=e("span",null,"\uB4F1\uB85D\uBC88\uD638",-1),me=e("span",null,"\uC131\uBA85",-1),_e={class:"ml-auto mr-6"},ve=e("h2",{class:"font-weight-bold"},[e("svg",{class:"mr-2",width:"4",height:"14",fill:"#00AEEF"},[e("rect",{width:"100%",height:"100%"})]),C("\uC870\uD68C \uBAA9\uB85D")],-1),fe={class:"text-body-2 ml-3 pt-1"},Be={class:"color-primary font-weight-bold"},pe=e("caption",{class:"d-none"},"\uC870\uD68C \uACB0\uACFC",-1),he=e("colgroup",null,[e("col",{style:{width:"80px"}}),e("col",{style:{width:"120px"}}),e("col",{style:{width:"auto"}}),e("col",{style:{width:"150px"}}),e("col",{style:{width:"120px"}})],-1),be=e("thead",null,[e("tr",null,[e("th",null,"\uBC88\uD638"),e("th",null,"\uC804\uBB38\uC778 \uC720\uD615"),e("th",null,"\uC131\uBA85"),e("th",null,"\uB4F1\uB85D\uBC88\uD638"),e("th",null,"\uC0DD\uB144\uC6D4\uC77C")])],-1),De={key:0,class:""},ge=["onClick"],Ae={key:1},Ve=e("tr",null,[e("td",{colspan:"5",class:"text-center align-middle"},"\uC870\uD68C\uD560 \uB0B4\uC6A9\uC774 \uC5C6\uC2B5\uB2C8\uB2E4.")],-1),xe=[Ve],ye=e("h2",{class:"font-weight-bold"},[e("svg",{class:"mr-2",width:"4",height:"14",fill:"#00AEEF"},[e("rect",{width:"100%",height:"100%"})]),C("\uC870\uD68C \uC0C1\uC138")],-1),we=e("div",{class:"head-col"},[e("p",null,"\uC804\uBB38\uC778 \uC720\uD615"),e("sup",{class:"text-error"},"*")],-1),ke={class:"data-col"},Ee=e("div",{class:"head-col"},[e("p",null,"\uC131\uBA85"),e("sup",{class:"text-error"},"*")],-1),Te={class:"data-col"},Ue=e("div",{class:"head-col"},[e("p",null,"\uB4F1\uB85D\uBC88\uD638"),e("sup",{class:"text-error"},"*")],-1),$e={class:"data-col"},Fe=e("div",{class:"head-col"},[e("p",null,"\uC0DD\uB144\uC6D4\uC77C")],-1),Oe={class:"data-col"},qe=X({__name:"AU2",setup(c){const n=G();H(n);const o=r(new te),V=r([""]),i=r(new ae),M=r(!1),p=r(),s=r(new z);let m=r([]);const j=r({title:"\uC804\uBB38\uC778\uBA85\uB2E8\uAD00\uB9AC"}),L=r([{text:"\uD68C\uC6D0\uAD00\uB9AC",disabled:!1,href:"/"},{text:"\uC804\uBB38\uC778\uBA85\uB2E8\uAD00\uB9AC",disabled:!0,href:"/"}]),y=_=>{Object.assign(s.value,_),s.value.mode="U"};function P(){s.value.mode="C",s.value.business_cd=i.value.data.business_cd,s.value.nm="",s.value.reg_no=""}async function w(_){let l=!1;if(!s.value.business_cd)return o.value.setWarning("\uC785\uB825\uD655\uC778","\uC804\uBB38\uC778 \uC720\uD615\uC740 \uD544\uC218\uC785\uB825\uAC12 \uC785\uB2C8\uB2E4."),!1;if(!s.value.nm)return o.value.setWarning("\uC785\uB825\uD655\uC778","\uC131\uBA85\uC740 \uD544\uC218\uC785\uB825\uAC12 \uC785\uB2C8\uB2E4."),!1;if(!s.value.reg_no)return o.value.setWarning("\uC785\uB825\uD655\uC778","\uB4F1\uB85D\uBC88\uD638\uB294 \uD544\uC218\uC785\uB825\uAC12 \uC785\uB2C8\uB2E4."),!1;if(_==="D"?(s.value.mode=_,await o.value.setConfirm("\uC0AD\uC81C","\uC0AD\uC81C \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?",null,(u,D)=>{l=u})):await o.value.setConfirm("\uC800\uC7A5","\uC800\uC7A5 \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?",null,(u,D)=>{l=u}),l){console.log(s.value);const u=await S.setUserRegNo(s.value);console.log(u),u.success?(o.value.setInfo("\uD655\uC778","\uC800\uC7A5 \uB418\uC5C8\uC2B5\uB2C8\uB2E4."),i.value.data.business_cd=s.value.business_cd,i.value.data.nm=s.value.nm,b()):o.value.setWarning("\uC2E4\uD328","\uC800\uC7A5\uC5D0 \uC2E4\uD328\uD558\uC600\uC2B5\uB2C8\uB2E4.")}}async function b(){const _=await S.getUserRegList(i.value.data);m.value=_.data,m.value.length==0?(M.value=!0,p.value=new z):p.value=m.value[0],y(p.value)}async function W(){V.value=await ne.getCodeList("COM001"),i.value.data.business_cd="TAX",i.value.data.reg_no="",i.value.data.nm=""}return J(async()=>{W()}),(_,l)=>(v(),h(E,null,[t(oe,{title:j.value.title,breadcrumbs:L.value},null,8,["title","breadcrumbs"]),t(k,null,{default:a(()=>[t(f,{cols:"12"},{default:a(()=>[e("ul",re,[e("li",null,[Ce,t(Q,{modelValue:i.value.data.business_cd,"onUpdate:modelValue":l[0]||(l[0]=u=>i.value.data.business_cd=u),items:V.value,variant:"outlined","hide-details":"",density:"compact"},null,8,["modelValue","items"])]),e("li",null,[ce,t(T,{modelValue:i.value.data.reg_no,"onUpdate:modelValue":l[1]||(l[1]=u=>i.value.data.reg_no=u),type:"text",variant:"outlined","hide-details":"auto",density:"compact","single-line":"",label:"\uB4F1\uB85D\uBC88\uD638",onKeyup:l[2]||(l[2]=U(u=>b(),["enter"]))},null,8,["modelValue"])]),e("li",null,[me,t(T,{modelValue:i.value.data.nm,"onUpdate:modelValue":l[3]||(l[3]=u=>i.value.data.nm=u),type:"text",variant:"outlined","hide-details":"auto",density:"compact","single-line":"",label:"\uC131\uBA85",onKeyup:l[4]||(l[4]=U(u=>b(),["enter"]))},null,8,["modelValue"])]),e("li",_e,[t(g,{variant:"flat",onClick:l[5]||(l[5]=u=>b()),size:"small"},{default:a(()=>[C("\uC870\uD68C")]),_:1})])])]),_:1}),t(f,{cols:"7"},{default:a(()=>[t($,null,{default:a(()=>[t(F,{class:"d-flex align-center flex-wrap px-0"},{default:a(()=>[ve,e("p",fe,[C("\uC804\uCCB4 "),e("span",Be,B(Number(A(m).length).toLocaleString()),1),C(" \uAC74")])]),_:1}),t(O,{class:"pa-0 v-result-box"},{default:a(()=>[t(Y,{density:"compact",class:"text-center","fixed-header":"",height:"500px"},{default:a(()=>[pe,he,be,A(m).length?(v(),h("tbody",De,[(v(!0),h(E,null,Z(A(m),(u,D)=>(v(),h("tr",{key:D,onClick:[I=>p.value=u,le(I=>y(u),["prevent"])],class:se({selected:p.value===u,"cursor-pointer":!0})},[e("td",null,B(A(m).length-D),1),e("td",null,B(u.business_cd_nm),1),e("td",null,B(u.nm),1),e("td",null,B(u.reg_no),1),e("td",null,B(u.birth),1)],10,ge))),128))])):(v(),h("tbody",Ae,xe))]),_:1})]),_:1})]),_:1})]),_:1}),t(f,{cols:"5"},{default:a(()=>[t($,null,{default:a(()=>[t(F,{class:"d-flex justify-space-between px-0"},{default:a(()=>[ye,t(ee),t(g,{variant:"outlined",size:"small",onClick:l[6]||(l[6]=u=>P())},{default:a(()=>[C("\uC2E0\uADDC\uC785\uB825")]),_:1})]),_:1}),t(O,{class:"pa-0"},{default:a(()=>[t(k,{class:"v-board-table size-x-small"},{default:a(()=>[t(f,{cols:"12",class:"v-col"},{default:a(()=>[we,e("div",ke,[t(ie,{modelValue:s.value.business_cd,"onUpdate:modelValue":l[7]||(l[7]=u=>s.value.business_cd=u),name:"business_cd",label:"",items:V.value,class:"w-200","single-line":"",density:"comfortable",disabled:s.value.mode!="C"},null,8,["modelValue","items","disabled"])])]),_:1}),t(f,{cols:"12",class:"v-col"},{default:a(()=>[Ee,e("div",Te,[t(x,{modelValue:s.value.nm,"onUpdate:modelValue":l[8]||(l[8]=u=>s.value.nm=u),name:"user_rnmegno",label:"","single-line":"",density:"comfortable",disabled:s.value.mode!="C"},null,8,["modelValue","disabled"])])]),_:1}),t(f,{cols:"12",class:"v-col"},{default:a(()=>[Ue,e("div",$e,[t(x,{modelValue:s.value.reg_no,"onUpdate:modelValue":l[9]||(l[9]=u=>s.value.reg_no=u),name:"reg_no",label:"","single-line":"",density:"comfortable",maskOption:{mask:"#######"},disabled:s.value.mode!="C"},null,8,["modelValue","disabled"])])]),_:1}),t(f,{cols:"12",class:"v-col"},{default:a(()=>[Fe,e("div",Oe,[t(x,{modelValue:s.value.birth,"onUpdate:modelValue":l[10]||(l[10]=u=>s.value.birth=u),name:"birth",label:"","single-line":"",density:"comfortable",maskOption:{mask:"######"},disabled:s.value.mode!="C"},null,8,["modelValue","disabled"])])]),_:1})]),_:1})]),_:1}),t(ue,{class:"d-flex justify-center pt-4 pb-6"},{default:a(()=>[s.value.mode=="C"?(v(),R(g,{key:0,variant:"flat",size:"small",color:"primary",onClick:l[11]||(l[11]=u=>{w("C")}),class:"mx-1"},{default:a(()=>[C("\uC800\uC7A5")]),_:1})):N("",!0),s.value.mode!="C"&&s.value.reg_no!=""?(v(),R(g,{key:1,variant:"flat",size:"small",color:"dark",onClick:l[12]||(l[12]=u=>{w("D")}),class:"mx-1"},{default:a(()=>[C("\uC0AD\uC81C")]),_:1})):N("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),t(de,{messageBoxDTO:o.value},null,8,["messageBoxDTO"])],64))}});export{qe as default};
