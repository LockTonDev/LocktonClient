import{d as z,u as L,s as N,r as n,M as W,a4 as q,o as H,c as _,O as r,f as e,w as a,V as A,B as T,Y as J,at as F,q as d,m as t,i as C,t as o,p as D,aw as P,ax as G,aJ as K,g as k,h as S,C as x,j as U,aC as Q,n as Z,am as tt}from"./index.eb60b107.js";import{I as et}from"./InsuranceYup.e3e3abe3.js";import{D as I}from"./D_T0040ADTO.089f88f2.js";import{C as ut}from"./CommonCode.a14406ce.js";import{B as st}from"./BaseBreadcrumb.89fbf45a.js";import{_ as f}from"./VTextFieldWithValidation.3c9fec9d.js";import{_ as at}from"./VSelectWithValidation.97e7a176.js";import{a as lt}from"./A_CONTRACT.23febe93.js";import{a as b}from"./A_TTAX0040A.51960441.js";import{d as ot}from"./dayjs.min.1cef422c.js";import"./isObject.9a57e865.js";import"./vee-validate.esm.071ddd3a.js";const dt={class:"d-flex justify-space-between align-end"},Ct={class:"text-body-1"},nt={class:"color-primary font-weight-bold"},ct=t("caption",{class:"d-none"},"\uAC00\uC785\uB0B4\uC5ED",-1),it=t("thead",{name:""},[t("tr",null,[t("th",{class:"text-center text-subtitle-1"},"\uC99D\uAD8C\uBC88\uD638"),t("th",{class:"text-center text-subtitle-1"},"\uD53C\uBCF4\uD5D8\uC790"),t("th",{class:"text-center text-subtitle-1"},"\uBCC0\uACBD\uAD6C\uBD84"),t("th",{class:"text-center text-subtitle-1"},"\uC2E0\uCCAD\uC77C\uC790"),t("th",{class:"text-center text-subtitle-1"},"\uAC1C\uC2DC\uC77C\uC790"),t("th",{class:"text-center text-subtitle-1"},"\uCC98\uB9AC\uC77C\uC790"),t("th",{class:"text-center text-subtitle-1"},"\uCC98\uB9AC\uC0C1\uD0DC"),t("th",{class:"text-center text-subtitle-1"},"\uC0C1\uC138\uBCF4\uAE30")])],-1),_t={key:0},rt={class:"text-center text-subtitle-1"},Bt={class:"text-center text-subtitle-1"},mt={class:"text-center text-subtitle-1"},vt={class:"text-center text-subtitle-1"},pt={class:"text-center text-subtitle-1"},Dt={class:"text-center text-subtitle-1"},ft={class:"text-center text-subtitle-1"},ht={class:"text-center text-subtitle-1"},At={key:1},xt=t("tr",null,[t("td",{colspan:"8",class:"text-center"},"\uC2E0\uCCAD\uB0B4\uC5ED\uC774 \uC5C6\uC2B5\uB2C8\uB2E4.")],-1),bt=[xt],gt=t("dl",{class:"mt-16 pa-10 bg-background"},[t("dt",{class:"text-body-1 font-weight-medium"},[t("i",{class:"mdi mdi-alert-circle-outline mr-2"}),C("\uC720\uC758\uC0AC\uD56D")]),t("dd",{class:"text-body-2 mt-4"},"\xB7 \uC870\uAC74\uBCC0\uACBD\uC740 \uBCF4\uD5D8\uAE30\uAC04 \uC911 1\uD68C\uB9CC \uAC00\uB2A5\uD569\uB2C8\uB2E4."),t("dd",{class:"text-body-2 mt-2"},"\xB7 \uBCC0\uACBD\uC2E0\uCCAD\uC774 \uC811\uC218\uB418\uBA74 \uD544\uC694\uC11C\uB958\uB97C \uC774\uBA54\uC77C\uB85C \uC1A1\uBD80\uB4DC\uB9AC\uACE0 \uB2F4\uB2F9\uC790\uC5D0\uAC8C \uC5F0\uB77D\uB4DC\uB9BD\uB2C8\uB2E4.")],-1),yt=t("h3",{class:"text-h6 font-weight-bold"},"\uBCC0\uACBD\uC2E0\uCCAD",-1),Vt=t("p",{class:"text-body-2 color-gray-shadow mb-2"},[t("sup",{class:"text-error ml-1"},"*"),C(" \uB294 \uD544\uC218 \uC785\uB825\uC785\uB2C8\uB2E4. ")],-1),wt=t("div",{class:"head-col"},"\uC99D\uAD8C\uBC88\uD638",-1),Et={class:"data-col w-full"},Tt=t("div",{class:"head-col"},[C("\uBCC0\uACBD\uAD6C\uBD84"),t("sup",{class:"text-error ml-1"},"*")],-1),Ft={class:"data-col w-full"},kt=t("div",{class:"head-col"},"\uC2E0\uCCAD\uC77C\uC790",-1),St={class:"data-col"},Ut=t("div",{class:"head-col"},[C("\uBCC0\uACBD\uAC1C\uC2DC\uC77C"),t("sup",{class:"text-error ml-1"},"*")],-1),It={class:"data-col w-full"},$t=t("div",{class:"head-col"},[C("\uBCC0\uACBD\uC0C1\uC138"),t("sup",{class:"text-error ml-1"},"*")],-1),Mt={class:"data-col w-full"},Ot=t("p",{class:"w-full text-gray"},"* \uBCC0\uACBD\uB418\uB294 \uC138\uBB34\uC0AC\uC758 \uC131\uBA85/\uC0DD\uB144\uC6D4\uC77C/\uB4F1\uB85D\uBC88\uD638/\uC0AC\uC720(\uCD94\uAC00 \uB610\uB294 \uD574\uC9C0)",-1),Yt=t("div",{class:"head-col"},[C("\uB2F4\uB2F9\uC790\uBA85"),t("sup",{class:"text-error ml-1"},"*")],-1),jt={class:"data-col w-full"},Rt=t("div",{class:"head-col"},[C("\uC5F0\uB77D\uCC98"),t("sup",{class:"text-error ml-1"},"*")],-1),Xt={class:"data-col col"},zt=t("div",{class:"head-col"},[C("\uC774\uBA54\uC77C"),t("sup",{class:"text-error ml-1"},"*")],-1),Lt={class:"data-col w-full"},Nt=t("h3",{class:"text-h6 font-weight-bold"},"\uBCC0\uACBD\uC2E0\uCCAD \uC0C1\uC138\uB0B4\uC5ED",-1),Wt=t("div",{class:"head-col"},"\uC99D\uAD8C\uBC88\uD638",-1),qt={class:"data-col"},Ht=t("div",{class:"head-col"},"\uBCC0\uACBD\uAD6C\uBD84",-1),Jt={class:"data-col"},Pt=t("div",{class:"head-col"},"\uC2E0\uCCAD\uC77C\uC790",-1),Gt={class:"data-col"},Kt=t("div",{class:"head-col"},"\uBCC0\uACBD\uAC1C\uC2DC\uC77C",-1),Qt={class:"data-col"},Zt=t("div",{class:"head-col"},"\uBCC0\uACBD\uC0C1\uC138",-1),te={class:"data-col"},ee={class:"pre"},ue=t("div",{class:"head-col"},"\uB2F4\uB2F9\uC790 \uC131\uBA85",-1),se={class:"data-col"},ae=t("div",{class:"head-col"},"\uC5F0\uB77D\uCC98",-1),le={class:"data-col"},oe=t("div",{class:"head-col"},"\uC774\uBA54\uC77C",-1),de={class:"data-col"},Ce=t("div",{class:"head-col"},"\uCC98\uB9AC\uC77C\uC790",-1),ne={class:"data-col"},ce=t("div",{class:"head-col"},"\uCC98\uB9AC\uC0C1\uD0DC",-1),ie={class:"data-col"},$=10,we=z({__name:"V_TTAX0040A10",setup(_e){const M=L(),{_AUTH_USER:B}=N(M),m=n(new W),s=n(new I),v=n([]);n(!1);const g=n({title:"\uC804\uBB38\uC778\uBC30\uC0C1\uCC45\uC784\uBCF4\uD5D8 \uBCC0\uACBD",subtitle:"",image:"../../assets/images/background/bg-subscription1.jpg"}),O=n([{text:"\uBCF4\uD5D8\uACC4\uC57D",disabled:!1,to:"/contract/TAX/V_TTAX0030A10"},{text:"\uBCC0\uACBD",disabled:!1,to:"#"}]),h=n(1),y=n(0),V=n(0),i=n(!1),p=n(!1),w=n([]);async function Y(){const c=ot().format("YYYY-MM-DD");s.value.clear(),s.value.apply_posted_dt=c,s.value.apply_dt=c,s.value.proc_cd="10",s.value.user_cd=B.value.userCd,s.value.business_cd=B.value.businessCd;const{data:u}=await lt.getDBSelStatus();u.length>0?(s.value.insurance_no=u[0].insurance_no,s.value.insurance_uuid=u[0].insurance_uuid,s.value.insurance_user_nm=u[0].user_nm,i.value=!0):m.value.setInfo("\uBCC0\uACBD\uC2E0\uCCAD","\uAC00\uC785\uB418\uC5B4 \uC788\uB294 \uBCF4\uD5D8\uC774 \uC5C6\uC2B5\uB2C8\uB2E4.")}async function j(){return await et.MODIFY_FORM.validate(s.value,{abortEarly:!1}).then(()=>!0).catch(l=>(console.log(l.inner),m.value.setWarning("\uC785\uB825\uD655\uC778",l.inner[0].message),!1))}async function R(){if(!await j())return!1;(await b.setDBIns(s.value)).success&&(E(),m.value.setInfo("\uBCC0\uACBD\uC2E0\uCCAD","\uBCF4\uD5D8 \uBCC0\uACBD\uC2E0\uCCAD\uC774 \uC811\uC218 \uB418\uC5C8\uC2B5\uB2C8\uB2E4.")),i.value=!1}async function X(c){const u={apply_no:c},l=await b.getDBSel(u);s.value=new I(l.data),p.value=!0}const E=async()=>{const c={page:h.value,limit:$},{data:u}=await b.getDBSelList(c);v.value=u.items,V.value=u.tot_count,y.value=Math.ceil(V.value/$)};return q(()=>{E()}),H(async()=>{const c=await ut.getCodeList("COM040");w.value=c.filter(u=>u.value.startsWith(`${B.value.businessCd}${B.value.userCd}`))}),(c,u)=>(_(),r(F,null,[e(st,{title:g.value.title,breadcrumbs:O.value,image:g.value.image},null,8,["title","breadcrumbs","image"]),e(A,null,{default:a(()=>[e(d,{cols:"12",sm:"12",class:"py-16"},{default:a(()=>[t("div",dt,[t("p",Ct,[C("\uC804\uCCB4 "),t("span",nt,o(v.value.length),1),C("\uAC74")]),e(D,{text:"",onClick:u[0]||(u[0]=l=>Y())},{default:a(()=>[C(" \uBCC0\uACBD\uC2E0\uCCAD ")]),_:1})]),e(P,{class:"v-board-table size-large mt-4"},{default:a(()=>[ct,it,v.value.length?(_(),r("tbody",_t,[(_(!0),r(F,null,G(v.value,(l,re)=>(_(),r("tr",null,[t("td",rt,o(l.insurance_no),1),t("td",Bt,o(l.insurance_user_nm),1),t("td",mt,o(l.apply_nm),1),t("td",vt,o(l.apply_dt),1),t("td",pt,o(l.apply_posted_dt),1),t("td",Dt,o(l.proc_dt),1),t("td",ft,o(l.proc_nm),1),t("td",ht,[e(tt,{small:"",class:"mr-2 text-primary cursor-pointer",title:"\uBCF4\uAE30",onClick:Be=>X(l.apply_no)},{default:a(()=>[C("mdi-file-document")]),_:2},1032,["onClick"])])]))),256))])):(_(),r("tbody",At,bt))]),_:1}),e(K,{modelValue:h.value,"onUpdate:modelValue":u[1]||(u[1]=l=>h.value=l),length:y.value,rounded:"circle"},null,8,["modelValue","length"]),gt]),_:1})]),_:1}),e(T,{persistent:"",modelValue:i.value,"onUpdate:modelValue":u[10]||(u[10]=l=>i.value=l),width:"1000","hide-overlay":""},{default:a(()=>[e(k,null,{default:a(()=>[e(S,null,{default:a(()=>[yt]),_:1}),e(x),e(U,{class:"pa-6"},{default:a(()=>[Vt,e(A,{class:"v-board-table ma-0"},{default:a(()=>[e(d,{cols:"6"},{default:a(()=>[wt,t("div",Et,o(s.value.insurance_no)+" ",1)]),_:1}),e(d,{cols:"6"},{default:a(()=>[Tt,t("div",Ft,[e(at,{modelValue:s.value.apply_cd,"onUpdate:modelValue":u[2]||(u[2]=l=>s.value.apply_cd=l),name:"apply_cd",label:"\uBCC0\uACBD\uAD6C\uBD84\uC744 \uC120\uD0DD\uD558\uC138\uC694.",items:w.value,class:"w-100","single-line":"",density:"comfortable"},null,8,["modelValue","items"])])]),_:1}),e(d,{cols:"6"},{default:a(()=>[kt,t("div",St,o(s.value.apply_dt)+" ",1)]),_:1}),e(d,{cols:"6"},{default:a(()=>[Ut,t("div",It,[e(f,{modelValue:s.value.apply_posted_dt,"onUpdate:modelValue":u[3]||(u[3]=l=>s.value.apply_posted_dt=l),name:"apply_posted_dt",label:"",type:"date",min:s.value.apply_dt,"single-line":"",density:"comfortable",class:"w-full"},null,8,["modelValue","min"])])]),_:1}),e(d,{cols:"12"},{default:a(()=>[$t,t("div",Mt,[Ot,e(Q,{modelValue:s.value.apply_content,"onUpdate:modelValue":u[4]||(u[4]=l=>s.value.apply_content=l),variant:"outlined",counter:"",class:"mt-2 w-full",rows:"10","no-resize":""},null,8,["modelValue"])])]),_:1}),e(d,{cols:"4"},{default:a(()=>[Yt,t("div",jt,[e(f,{modelValue:s.value.nm,"onUpdate:modelValue":u[5]||(u[5]=l=>s.value.nm=l),name:"nm",label:"","single-line":"",class:"w-sm-242",maxlength:"20",density:"comfortable"},null,8,["modelValue"])])]),_:1}),e(d,{cols:"4"},{default:a(()=>[Rt,t("div",Xt,[e(f,{modelValue:s.value.tel,"onUpdate:modelValue":u[6]||(u[6]=l=>s.value.tel=l),name:"tel",label:"","single-line":"",maxlength:"20"},null,8,["modelValue"])])]),_:1}),e(d,{cols:"4"},{default:a(()=>[zt,t("div",Lt,[e(f,{modelValue:s.value.email,"onUpdate:modelValue":u[7]||(u[7]=l=>s.value.email=l),name:"email",label:"","single-line":"",class:"w-100",maxlength:"50",density:"comfortable"},null,8,["modelValue"])])]),_:1})]),_:1})]),_:1}),e(x),e(Z,{class:"d-flex align-center justify-center py-4"},{default:a(()=>[e(D,{variant:"outlined",color:"dark",onClick:u[8]||(u[8]=l=>i.value=!1),size:"large"},{default:a(()=>[C(" \uCDE8\uC18C ")]),_:1}),e(D,{variant:"flat",color:"primary",onClick:u[9]||(u[9]=l=>R()),size:"large"},{default:a(()=>[C(" \uC811\uC218 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(T,{persistent:"",modelValue:p.value,"onUpdate:modelValue":u[12]||(u[12]=l=>p.value=l),width:"1000","hide-overlay":""},{default:a(()=>[e(k,null,{default:a(()=>[e(S,{class:"d-flex align-center justify-space-between"},{default:a(()=>[Nt,e(D,{variant:"outlined",color:"dark",onClick:u[11]||(u[11]=l=>p.value=!1)},{default:a(()=>[C(" \uB2EB\uAE30 ")]),_:1})]),_:1}),e(x),e(U,{class:"pa-6"},{default:a(()=>[e(A,{class:"v-board-table ma-0"},{default:a(()=>[e(d,{cols:"6"},{default:a(()=>[Wt,t("div",qt,o(s.value.insurance_no),1)]),_:1}),e(d,{cols:"6"},{default:a(()=>[Ht,t("div",Jt,o(s.value.apply_nm),1)]),_:1}),e(d,{cols:"6"},{default:a(()=>[Pt,t("div",Gt,o(s.value.apply_dt),1)]),_:1}),e(d,{cols:"6"},{default:a(()=>[Kt,t("div",Qt,o(s.value.apply_posted_dt),1)]),_:1}),e(d,{cols:"12"},{default:a(()=>[Zt,t("div",te,[t("pre",ee,o(s.value.apply_content),1)])]),_:1}),e(d,{cols:"4"},{default:a(()=>[ue,t("div",se,o(s.value.nm),1)]),_:1}),e(d,{cols:"4"},{default:a(()=>[ae,t("div",le,o(s.value.tel),1)]),_:1}),e(d,{cols:"4"},{default:a(()=>[oe,t("div",de,o(s.value.email),1)]),_:1}),e(d,{cols:"8"},{default:a(()=>[Ce,t("div",ne,o(s.value.proc_dt),1)]),_:1}),e(d,{cols:"4"},{default:a(()=>[ce,t("div",ie,o(s.value.proc_nm),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(J,{messageBoxDTO:m.value},null,8,["messageBoxDTO"])],64))}});export{we as default};
