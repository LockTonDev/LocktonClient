import{B as j}from"./BaseBreadcrumb.4978d9e2.js";import{B as w}from"./BoardDTO.a7960dc7.js";import{d as E,u as z,s as H,r as s,a4 as N,o as R,c as n,O as d,f as t,w as o,q as p,k as $,z as q,V as x,aw as J,m as e,at as _,ax as T,aJ as P,g as Y,h as G,p as K,i as F,C as Q,j as W,t as u,B as X}from"./index.652b5503.js";import{d as Z}from"./debounce.aadf0095.js";import{a as I}from"./board.api.0c4582cc.js";import"./isObject.43520ace.js";const ee=e("caption",{class:"d-none"},"\uACF5\uC9C0\uC0AC\uD56D",-1),te={class:"text-center text-subtitle-1"},ae={class:"text-left"},se=["onClick"],le={key:0},oe={class:"text-center text-subtitle-1"},ue=e("p",{class:"text-h6 font-weight-bold"},"\uACF5\uC9C0\uC0AC\uD56D",-1),ne=e("div",{class:"head-col"},[e("p",{class:"text-16"},"\uC81C\uBAA9")],-1),de={class:"data-col"},ie={class:"text-16"},re=e("div",{class:"head-col"},[e("p",{class:"text-16"},"\uAC8C\uC2DC\uC77C")],-1),ce={class:"data-col"},_e={class:"text-16"},Ce=["innerHTML"],S=10,me=E({__name:"BoardList",props:{board_id:{type:String,required:!0}},setup(V){const r=V,f=z(),{_AUTH_USER:g}=H(f),c=s(!1),A=s(new w),C=s(new w);A.value.board_id=r.board_id,C.value.board_id=r.board_id,s(["\uC804\uCCB4","\uC81C\uBAA9","\uB0B4\uC6A9"]),s("\uC804\uCCB4");const L=[{text:"\uBC88\uD638",value:"board_no"},{text:"\uC81C\uBAA9",value:"title"},{text:"\uAC8C\uC2DC\uC77C",value:"created_at"}],B=s(""),m=s(1),D=s(0),y=s(0),h=s([]),v=s({});s(0);const k=async()=>{const i={business_cd:g.value.businessCd,board_id:A.value.board_id,page:m.value,limit:S,title:B.value.trim()||null},{data:l}=await I.getItems(i);h.value=l.items,y.value=l.tot_count,D.value=Math.ceil(y.value/S)},O=async()=>{const i={business_cd:g.value.businessCd,board_id:C.value.board_id,board_no:C.value.board_no},{data:l}=await I.getItem(i);v.value=l},U=Z(()=>{m.value=1,k()},500);N(()=>{k()}),R(()=>{});async function M(i){C.value.board_no=i,await O(),c.value=!0}return(i,l)=>(n(),d(_,null,[t(x,{class:"my-1"},{default:o(()=>[t(p,{cols:"12",md:"12"},{default:o(()=>[t($,{modelValue:B.value,"onUpdate:modelValue":l[0]||(l[0]=a=>B.value=a),loading:!1,variant:"outlined",label:"\uAC80\uC0C9\uC5B4\uB97C \uC785\uB825\uD558\uC138\uC694","append-inner-icon":"mdi-magnify ","hide-details":"","single-line":"",outlined:"",clearable:"",onInput:q(U)},null,8,["modelValue","onInput"])]),_:1})]),_:1}),t(x,{class:"my-1"},{default:o(()=>[t(p,{cols:"12"},{default:o(()=>[t(J,{class:"v-board-table size-large"},{default:o(()=>[ee,e("thead",null,[e("tr",null,[(n(),d(_,null,T(L,(a,b)=>e("th",{key:b,class:"text-center"},u(a.text),1)),64))])]),e("tbody",null,[(n(!0),d(_,null,T(h.value,(a,b)=>(n(),d("tr",{key:b},[e("td",te,u(h.value.length-b),1),e("td",ae,[e("div",{class:"title cursor-pointer",onClick:ve=>{M(a.board_no)}},[a.notice_yn==="Y"?(n(),d("strong",le,u(a.title),1)):(n(),d(_,{key:1},[F(u(a.title),1)],64))],8,se)]),e("td",oe,u(a.created_at),1)]))),128))])]),_:1}),t(P,{modelValue:m.value,"onUpdate:modelValue":l[1]||(l[1]=a=>m.value=a),length:D.value,rounded:"circle"},null,8,["modelValue","length"])]),_:1})]),_:1}),t(X,{persistent:"",modelValue:c.value,"onUpdate:modelValue":l[3]||(l[3]=a=>c.value=a),width:"800px","hide-overlay":"",scrollable:""},{default:o(()=>[t(Y,null,{default:o(()=>[t(G,{class:"d-flex align-center justify-space-between"},{default:o(()=>[ue,t(K,{variant:"outlined",color:"dark",onClick:l[2]||(l[2]=a=>c.value=!1)},{default:o(()=>[F("\uB2EB\uAE30")]),_:1})]),_:1}),t(Q),t(W,{class:"pa-6"},{default:o(()=>[t(x,{class:"v-board-table size-small ma-0"},{default:o(()=>[t(p,{cols:"12"},{default:o(()=>[ne,e("div",de,[e("p",ie,u(v.value.title),1)])]),_:1}),t(p,{cols:"12"},{default:o(()=>[re,e("div",ce,[e("p",_e,u(v.value.created_at),1)])]),_:1})]),_:1}),e("div",{class:"v-box min-h-280 pa-4 mt-4",innerHTML:v.value.content},null,8,Ce)]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}}),xe=E({__name:"notice",setup(V){const r=s({title:"\uACF5\uC9C0\uC0AC\uD56D",image:"../../assets/images/background/bg-cscenter1.jpg"}),f=s([{text:"\uC54C\uB9BC\uB9C8\uB2F9",disabled:!1,to:"#"},{text:"\uACF5\uC9C0\uC0AC\uD56D",disabled:!1,to:"#"}]);return(g,c)=>(n(),d(_,null,[t(j,{title:r.value.title,image:r.value.image,breadcrumbs:f.value},null,8,["title","image","breadcrumbs"]),t(me,{board_id:"notice"})],64))}});export{xe as default};
