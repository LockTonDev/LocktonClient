import{d as W,ag as Y,u as G,s as H,r as i,M as J,R as Q,o as X,c as m,O as v,m as e,t as u,f as t,w as l,V as f,Y as Z,at as S,q as d,S as ee,k as te,l as le,p as $,i as r,g as z,h as I,z as B,j as L,aw as se,ax as ae,F as ue,aC as M,aD as oe,ak as de}from"./index.eb60b107.js";import{D as g}from"./D_T0040ADTO.089f88f2.js";import{P as ne}from"./ParamsDTO.c9510422.js";import{C as V}from"./CommonCode.a14406ce.js";import{_ as ie}from"./AdminBaseBreadcrumb.vue_vue_type_script_setup_true_lang.ab5ee581.js";import{_ as ce}from"./VSelectWithValidation.97e7a176.js";import{_ as Ce}from"./VTextFieldWithValidation.3c9fec9d.js";import{a as N}from"./A_ADMIN.8dd3c7c0.js";import"./vee-validate.esm.071ddd3a.js";const _e={class:"d-flex align-center"},re={class:"text-h6 color-primary subtitle mr-2"},pe={class:"w-100"},he={class:"v-search-box"},me=e("span",null,[r("\uCC98\uB9AC\uC0C1\uD0DC"),e("sup",{class:"text-error ml-1"},"*")],-1),ve=e("span",null,[r("\uD53C\uBCF4\uD5D8\uC790"),e("sup",{class:"text-error ml-1"},"*")],-1),De={class:"ml-auto"},fe=e("h2",{class:"font-weight-bold"},[e("svg",{class:"mr-2",width:"4",height:"14",fill:"#00AEEF"},[e("rect",{width:"100%",height:"100%"})]),r("\uC870\uD68C \uBAA9\uB85D")],-1),Be={class:"text-body-2 ml-3 pt-1"},Ae={class:"color-primary font-weight-bold"},ye=e("caption",{class:"d-none"},"\uC870\uD68C \uACB0\uACFC",-1),xe=e("colgroup",null,[e("col",{style:{width:"80px"}}),e("col",{style:{width:"80px"}}),e("col",{style:{width:"auto"}}),e("col",{style:{width:"auto"}}),e("col",{style:{width:"auto"}}),e("col",{style:{width:"auto"}}),e("col",{style:{width:"110px"}}),e("col",{style:{width:"110px"}}),e("col",{style:{width:"110px"}}),e("col",{style:{width:"80px"}})],-1),ge=e("thead",null,[e("tr",null,[e("th",null,"\uBC88\uD638"),e("th",null,"\uBCF4\uD5D8\uB144\uB3C4"),e("th",null,"\uD53C\uBCF4\uD5D8\uC790"),e("th",null,"\uC99D\uAD8C\uBC88\uD638"),e("th",null,"\uBCC0\uACBD\uAD6C\uBD84"),e("th",null,"\uB2F4\uB2F9\uC790\uBA85"),e("th",null,"\uC2E0\uCCAD\uC77C\uC790"),e("th",null,"\uBCC0\uACBD\uAC1C\uC2DC\uC77C\uC790"),e("th",null,"\uCC98\uB9AC\uC77C\uC790"),e("th",null,"\uCC98\uB9AC\uC0C1\uD0DC")])],-1),Ve={key:0,class:""},be=["onClick"],we={key:1},Te=e("tr",null,[e("td",{colspan:"10",class:"text-center align-middle"},"\uC870\uD68C\uD560 \uB0B4\uC6A9\uC774 \uC5C6\uC2B5\uB2C8\uB2E4.")],-1),Fe=[Te],Ee=e("h2",{class:"font-weight-bold"},[e("svg",{class:"mr-2",width:"4",height:"14",fill:"#00AEEF"},[e("rect",{width:"100%",height:"100%"})]),r("\uC870\uD68C \uC0C1\uC138")],-1),ke=e("div",{class:"head-col"},"\uC99D\uAD8C\uBC88\uD638",-1),Oe={class:"data-col"},Se=e("div",{class:"head-col"},"\uC99D\uAD8C\uBC88\uD638",-1),$e={class:"data-col"},ze=e("div",{class:"head-col"},"\uBCC0\uACBD\uAD6C\uBD84",-1),Ie={class:"data-col"},Le=e("div",{class:"head-col"},"\uC2E0\uCCAD\uC77C\uC790",-1),Me={class:"data-col"},Ne=e("div",{class:"head-col"},"\uBCC0\uACBD\uAC1C\uC2DC\uC77C",-1),Re={class:"data-col"},Ue=e("div",{class:"head-col"},"\uB2F4\uB2F9\uC790 \uC131\uBA85",-1),Pe={class:"data-col"},je=e("div",{class:"head-col"},"\uC5F0\uB77D\uCC98",-1),Ke={class:"data-col"},qe=e("div",{class:"head-col"},"\uC774\uBA54\uC77C",-1),We={class:"data-col"},Ye=e("div",{class:"head-col"},"\uBCC0\uACBD\uC0C1\uC138",-1),Ge={class:"data-col"},He=e("div",{class:"head-col"},"\uCC98\uB9AC\uC77C\uC790",-1),Je={class:"data-col"},Qe=e("div",{class:"head-col"},"\uCC98\uB9AC\uC0C1\uD0DC",-1),Xe={class:"data-col"},Ze=e("div",{class:"head-col"},"\uCC98\uB9AC\uB0B4\uC6A9",-1),et={class:"data-col"},Ct=W({__name:"AC6",setup(tt){const b=Y(),R=G();H(R);const D=i(new J),w=i([""]),A=i([""]),T=i([""]),c=i(new ne),U=i(!1),h=i(),o=i(new g);let C=i([]);const P=i({title:"\uACC4\uC57D\uBCC0\uACBD"}),j=i([{text:"\uACC4\uC57D\uAD00\uB9AC",disabled:!1,href:"/"},{text:"\uACC4\uC57D\uBCC0\uACBD",disabled:!0,href:"/"}]),F=_=>{Object.assign(o.value,_)};async function K(_){let a=!1;if(await D.value.setConfirm("\uC800\uC7A5","\uC800\uC7A5 \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?",null,(p,x)=>{a=p}),a){const p=await N.setApplyInsurance(o.value);console.log(p),p.success?(D.value.setInfo("\uD655\uC778","\uC800\uC7A5 \uB418\uC5C8\uC2B5\uB2C8\uB2E4."),y()):D.value.setWarning("\uC2E4\uD328","\uC800\uC7A5\uC5D0 \uC2E4\uD328\uD558\uC600\uC2B5\uB2C8\uB2E4.")}}async function y(){const _=await N.getApplyInsurance(c.value.data);C.value=_.data,C.value.length==0?(U.value=!0,h.value=new g):h.value=C.value[0],F(h.value)}Q(()=>b.params.business_cd,_=>{E()});async function E(){C.value=[],o.value=new g;const _=b.params.business_cd;w.value=await V.getCodeList("COM001"),A.value=await V.getCodeList("CAA003"),T.value=await V.getCodeList("CAA003"),A.value.unshift({title:"\uC804\uCCB4",value:"%"}),c.value.data.business_cd=_,c.value.data.proc_cd="%",c.value.data.user_nm=""}return X(async()=>{E()}),(_,a)=>{var p,x;return m(),v(S,null,[e("div",_e,[e("p",re,u((x=(p=w.value)==null?void 0:p.find(s=>s.value===c.value.data.business_cd))==null?void 0:x.title),1),e("div",pe,[t(ie,{title:P.value.title,breadcrumbs:j.value},null,8,["title","breadcrumbs"])])]),t(f,null,{default:l(()=>[t(d,{cols:"12"},{default:l(()=>[e("ul",he,[e("li",null,[me,t(ee,{modelValue:c.value.data.proc_cd,"onUpdate:modelValue":a[0]||(a[0]=s=>c.value.data.proc_cd=s),items:A.value,variant:"outlined","hide-details":"",density:"compact","item-text":"title","item-value":"value"},null,8,["modelValue","items"])]),e("li",null,[ve,t(te,{modelValue:c.value.data.user_nm,"onUpdate:modelValue":a[1]||(a[1]=s=>c.value.data.user_nm=s),type:"text",variant:"outlined","hide-details":"auto",density:"compact","single-line":"",class:"text-body-2",placeholder:"\uD53C\uBCF4\uD5D8\uC790",onKeyup:a[2]||(a[2]=le(s=>y(),["enter"]))},null,8,["modelValue"])]),e("li",De,[t($,{variant:"flat",onClick:a[3]||(a[3]=s=>y())},{default:l(()=>[r("\uC870\uD68C")]),_:1})])])]),_:1}),t(d,{cols:"12"},{default:l(()=>[t(z,null,{default:l(()=>[t(I,{class:"d-flex align-center flex-wrap px-0"},{default:l(()=>{var s;return[fe,e("p",Be,[r("\uC804\uCCB4 "),e("span",Ae,u(Number((s=B(C))==null?void 0:s.length).toLocaleString()),1),r(" \uAC74")])]}),_:1}),t(L,{class:"pa-0 v-result-box"},{default:l(()=>[t(se,{density:"compact",class:"text-center","fixed-header":"",height:"220px"},{default:l(()=>{var s;return[ye,xe,ge,(s=B(C))!=null&&s.length?(m(),v("tbody",Ve,[(m(!0),v(S,null,ae(B(C),(n,k)=>{var O;return m(),v("tr",{key:k,onClick:[q=>h.value=n,oe(q=>F(n),["prevent"])],class:de({selected:h.value===n,"cursor-pointer":!0})},[e("td",null,u(((O=B(C))==null?void 0:O.length)-k),1),e("td",null,u(n.insr_year),1),e("td",null,u(n.user_nm),1),e("td",null,u(n.insr_insurance_no),1),e("td",null,u(n.apply_nm),1),e("td",null,u(n.nm),1),e("td",null,u(n.apply_dt),1),e("td",null,u(n.apply_posted_dt),1),e("td",null,u(n.proc_dt),1),e("td",null,u(n.proc_nm),1)],10,be)}),128))])):(m(),v("tbody",we,Fe))]}),_:1})]),_:1})]),_:1})]),_:1}),t(d,{cols:"12"},{default:l(()=>[t(z,null,{default:l(()=>[t(I,{class:"d-flex justify-space-between px-0"},{default:l(()=>[Ee,t(ue),t($,{variant:"flat",size:"small",onClick:a[4]||(a[4]=s=>K())},{default:l(()=>[r("\uC800\uC7A5")]),_:1})]),_:1}),t(L,{class:"pa-0"},{default:l(()=>[t(f,null,{default:l(()=>[t(d,{cols:"6"},{default:l(()=>[t(f,{class:"v-board-table size-x-small"},{default:l(()=>[t(d,{cols:"6"},{default:l(()=>[ke,e("div",Oe,u(o.value.insurance_no),1)]),_:1}),t(d,{cols:"6"},{default:l(()=>[Se,e("div",$e,u(o.value.insurance_no),1)]),_:1}),t(d,{cols:"6"},{default:l(()=>[ze,e("div",Ie,u(o.value.apply_nm),1)]),_:1}),t(d,{cols:"6"},{default:l(()=>[Le,e("div",Me,u(o.value.apply_dt),1)]),_:1}),t(d,{cols:"6"},{default:l(()=>[Ne,e("div",Re,u(o.value.apply_posted_dt),1)]),_:1}),t(d,{cols:"6"},{default:l(()=>[Ue,e("div",Pe,u(o.value.nm),1)]),_:1}),t(d,{cols:"6"},{default:l(()=>[je,e("div",Ke,u(o.value.tel),1)]),_:1}),t(d,{cols:"12"},{default:l(()=>[qe,e("div",We,u(o.value.email),1)]),_:1}),t(d,{cols:"12"},{default:l(()=>[Ye,e("div",Ge,[t(M,{modelValue:o.value.apply_content,"onUpdate:modelValue":a[5]||(a[5]=s=>o.value.apply_content=s),variant:"outlined",counter:"",class:"h-200 my-1px",rows:"20","no-resize":"",readonly:"","hide-details":""},null,8,["modelValue"])])]),_:1})]),_:1})]),_:1}),t(d,{cols:"6"},{default:l(()=>[t(f,{class:"v-board-table size-x-small"},{default:l(()=>[t(d,{cols:"6"},{default:l(()=>[He,e("div",Je,[t(Ce,{modelValue:o.value.proc_dt,"onUpdate:modelValue":a[6]||(a[6]=s=>o.value.proc_dt=s),name:"proc_dt",type:"date","single-line":"",variant:"outlined",density:"compact"},null,8,["modelValue"])])]),_:1}),t(d,{cols:"6"},{default:l(()=>[Qe,e("div",Xe,[t(ce,{modelValue:o.value.proc_cd,"onUpdate:modelValue":a[7]||(a[7]=s=>o.value.proc_cd=s),name:"proc_cd",label:"\uC120\uD0DD\uD558\uC138\uC694.",items:T.value,"single-line":"",density:"compact"},null,8,["modelValue","items"])])]),_:1}),t(d,{cols:"12"},{default:l(()=>[Ze,e("div",et,[t(M,{modelValue:o.value.proc_content,"onUpdate:modelValue":a[8]||(a[8]=s=>o.value.proc_content=s),variant:"outlined",counter:"",class:"h-200 my-1px",rows:"20","no-resize":"","hide-details":""},null,8,["modelValue"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(Z,{messageBoxDTO:D.value},null,8,["messageBoxDTO"])],64)}}});export{Ct as default};
